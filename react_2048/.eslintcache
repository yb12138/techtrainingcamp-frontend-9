[{"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\index.js":"1","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\App.js":"2","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\store\\index.js":"3","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\home\\index.js":"4","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\login\\index.js":"5","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\play\\index.js":"6","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\play\\rule.js":"7","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Clock\\Clock.js":"8","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\reducer\\index.js":"9","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Room\\index.js":"10","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\PlayerList\\index.js":"11","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Board\\index.js":"12","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\SmellBoard\\index.js":"13","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Count\\index.js":"14"},{"size":655,"mtime":1606989201213,"results":"15","hashOfConfig":"16"},{"size":992,"mtime":1607000953662,"results":"17","hashOfConfig":"16"},{"size":527,"mtime":1606989201238,"results":"18","hashOfConfig":"16"},{"size":2248,"mtime":1607001103579,"results":"19","hashOfConfig":"16"},{"size":1677,"mtime":1607001103580,"results":"20","hashOfConfig":"16"},{"size":7760,"mtime":1607001103581,"results":"21","hashOfConfig":"16"},{"size":10353,"mtime":1606989201235,"results":"22","hashOfConfig":"16"},{"size":2488,"mtime":1607001103574,"results":"23","hashOfConfig":"16"},{"size":2112,"mtime":1607001103582,"results":"24","hashOfConfig":"16"},{"size":1858,"mtime":1607001103577,"results":"25","hashOfConfig":"16"},{"size":2461,"mtime":1607001103576,"results":"26","hashOfConfig":"16"},{"size":1830,"mtime":1607001103573,"results":"27","hashOfConfig":"16"},{"size":1808,"mtime":1606989201232,"results":"28","hashOfConfig":"16"},{"size":1598,"mtime":1607001103575,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"xv6suw",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"32"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\index.js",[],["68","69"],"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\App.js",[],"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\store\\index.js",[],"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\home\\index.js",["70"],"/*\r\n * @Author: your name\r\n * @Date: 2020-11-24 20:52:26\r\n * @LastEditTime: 2020-12-03 15:06:58\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\src\\pages\\home\\index.js\r\n */\r\nimport React from 'react'\r\n//导入store\r\nimport {connect} from 'react-redux';\r\nimport {PieChartOutlined,} from '@ant-design/icons';\r\nimport store from '../../store'\r\nimport {Col, Row} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport Room from '../../pages/Room';\r\nimport { Layout ,Menu} from 'antd';\r\nimport { send } from '@giantmachines/redux-websocket/dist';\r\nconst { SubMenu } = Menu;\r\n\r\nconst { Header, Content,Sider } = Layout;\r\n\r\nclass Home extends React.Component {\r\n\r\n    addRoom(){\r\n        store.dispatch(send({type: \"Add_Room\"}));\r\n    }\r\n\r\n    render() {\r\n        const status = this.props.status;\r\n        if (status === \"IN_ROOM\") {\r\n            \r\n            this.props.history.push('/play'); \r\n        }\r\n        const rooms = this.props.rooms;\r\n\r\n\r\n        return (\r\n            <>\r\n                <Header >\r\n                    <h1 style={{color:'white'}}> 游戏大厅</h1></Header>\r\n                    <Layout style={{ height: '100%' }}>\r\n                    <Sider width={200}  style={{ height: '100%' }}  className=\"site-layout-background\">\r\n                    <Menu\r\n          mode=\"inline\"\r\n          style={{ height: '100%', borderRight: 0 }}\r\n        >\r\n         <Menu.Item  onClick={this.addRoom} key=\"1\" icon={<PieChartOutlined />}>\r\n              增加房间\r\n            </Menu.Item>\r\n        </Menu>\r\n                    </Sider>\r\n                    <Content>\r\n                        <Row gutter={16}>\r\n                            {\r\n                            rooms.map((v, i) => {\r\n                                return <Col key={i} className=\"gutter-row\" span={3}>\r\n                                 <Room room={v} history={this.props.history}/>\r\n                              </Col>\r\n                          })\r\n                         }\r\n                         </Row>\r\n                </Content>\r\n                </Layout>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home)","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\login\\index.js",["71"],"/*\r\n * @Author: your name\r\n * @Date: 2020-11-25 23:38:32\r\n * @LastEditTime: 2020-12-02 22:11:33\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\src\\login\\index.js\r\n */\r\nimport React from 'react'\r\n//导入store\r\nimport store from '../../store'\r\nimport {connect} from '@giantmachines/redux-websocket';\r\nimport Home from '../home';\r\nimport '../login/login.css'\r\nimport { Button} from 'antd';\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\"\r\n        };\r\n    }\r\n\r\n    handleClick = () => {\r\n        let history = this.props.history;\r\n        let name = this.state.username;\r\n        store.dispatch(connect('ws://localhost:8080/chat-room/' + name));\r\n        history.push('/home');\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n               <div className=\"mainbody middle\">\r\n                    \r\n                <form className=\"form-box multiplayer\">\r\n                <div id=\"gametitle\" style={{color:'white'}}>2048</div>\r\n                <div>\r\n                    <input className=\"input-normal\" placeholder=\"请输入用户名\" value={this.state.username} type=\"text\" onChange={(e) => {\r\n                    this.setState({\r\n                        username: e.target.value,\r\n                    });\r\n                }} />\r\n                    <Button className=\"btn-submit\" type=\"submit\" onClick={this.handleClick}>\r\n                    开始游戏\r\n                    </Button>\r\n                </div>      \r\n                </form>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\play\\index.js",["72","73","74","75","76"],"import React from 'react'\r\nimport {Button, Layout} from 'antd';\r\nimport Board from '../Board';\r\nimport Rule from './rule'\r\nimport {connect} from 'react-redux';\r\nimport {send} from '@giantmachines/redux-websocket';\r\nimport store from '../../store'\r\nimport {Row, Col} from 'antd';\r\nimport {Content} from 'antd/lib/layout/layout';\r\nimport PlayerList from '../PlayerList';\r\n\r\nimport {Divider} from 'antd';\r\nimport CountDown from \"../Clock/CountDown\";\r\nimport {IdcardFilled} from '@ant-design/icons';\r\nimport Clock from \"../Clock/Clock\";\r\n\r\n\r\nclass Play extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"Board 初始化\", props);\r\n        let squares = Array(4).fill(0).map(_ => {\r\n            return new Array(4).fill(0)\r\n        });\r\n        this.state = {\r\n            current: squares,\r\n            merges: Array(4).fill(0).map(_ => {\r\n                return new Array(4).fill(0)\r\n            }),\r\n            score: 0,\r\n            status: 0,\r\n            flag: 0,\r\n            isMove: 0,\r\n            roomID: 0,\r\n            rank: true,\r\n            countstart: false,\r\n            seconds: 0,\r\n            minutes: 0,\r\n            isOver: false\r\n        }\r\n    }\r\n\r\n    sendMessage(temp) {\r\n        store.dispatch(send({\r\n            type: \"UPLOAD\",\r\n            content: JSON.stringify({\r\n                \"roomID\": this.props.roomID,\r\n                \"score\": temp.score,\r\n                \"current\": temp.squares\r\n            })\r\n        }));\r\n        this.setState(\r\n            Object.assign({}, this.state,\r\n                {\r\n                    current: temp.squares,\r\n                    merges: Array(4).fill(0).map(_ => {\r\n                        return new Array(4).fill(0)\r\n                    }),\r\n                    score: temp.score,\r\n                    status: 2,\r\n                    flag: 1,\r\n                    isMove: 0\r\n                }\r\n            )\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', function (e) {//渲染完成后绑定键盘事件\r\n            console.log(e.key);\r\n            if (this.state.status < 1) {\r\n                return;\r\n            }\r\n            switch (e.key) {\r\n                case 'ArrowLeft':   //左\r\n                    var temp = Rule.moveLeft(this.state.current, this.state.merges, this.state.score);\r\n                    if (temp.isMove === 1) {\r\n                        this.sendMessage(temp);\r\n                    }\r\n\r\n                    break;\r\n                case 'ArrowUp': //上\r\n                    var temp = Rule.moveUp(this.state.current, this.state.merges, this.state.score);\r\n                    if (temp.isMove === 1) {\r\n                        this.sendMessage(temp);\r\n                    }\r\n                    break;\r\n                case 'ArrowRight': //右\r\n                    var temp = Rule.moveRight(this.state.current, this.state.merges, this.state.score);\r\n                    if (temp.isMove === 1) {\r\n                        this.sendMessage(temp);\r\n                    }\r\n\r\n                    break;\r\n                case 'ArrowDown':    //下\r\n                    var temp = Rule.moveDown(this.state.current, this.state.merges, this.state.score);\r\n                    if (temp.isMove === 1) {\r\n                        this.sendMessage(temp);\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }.bind(this))\r\n    }\r\n\r\n\r\n    //点击\r\n    sendStart(val) {\r\n        store.dispatch(send({type: \"Start\", content: JSON.stringify({\"roomID\": val})}));\r\n    }\r\n\r\n    getInfo() {\r\n        store.dispatch(send({type: \"GetInfo\"}));\r\n    }\r\n\r\n    exitGame() {\r\n        store.dispatch(send({type: \"LEAVE\"}));\r\n    }\r\n\r\n    startGame() {\r\n        let squares = Array(4).fill(0).map(_ => {\r\n            return new Array(4).fill(0)\r\n        });\r\n        squares = Rule.generateOneNumber(squares); //初始化随机生成两个数\r\n        squares = Rule.generateOneNumber(squares);\r\n        this.setState(\r\n            Object.assign({}, this.state, {\r\n                current: squares,\r\n                merges: Array(4).fill(0).map(_ => {\r\n                    return new Array(4).fill(0)\r\n                }),\r\n                score: 0,\r\n                status: 2,\r\n                flag: 1,\r\n                isMove: 0,\r\n                countstart: true\r\n            })\r\n        );\r\n    }\r\n\r\n    CheckIfOver(over) {\r\n        console.log(\"over\" + over)\r\n        this.setState({\r\n            isOver: over\r\n        })\r\n    }\r\n\r\n    render() {\r\n        console.log(\"准备\");\r\n        //离开房间\r\n        if (this.props.status === \"ONLINE\") {\r\n            this.props.history.push('/home');\r\n        }\r\n        console.log(this.props);\r\n        const roomtitle = \"欢迎来到\" + this.props.roomID + \"号房间\";\r\n        let otherplays = [];\r\n        if (this.props.roomInfo && this.props.roomInfo.playerList) {\r\n            otherplays = this.props.roomInfo.playerList; //排行榜\r\n        }\r\n        otherplays.sort(sortScore);\r\n        if (this.props.Game_Status === 2 && this.state.flag === 0) {\r\n            this.startGame();\r\n        }\r\n        let start = null;\r\n        switch (this.state.status) {\r\n            case 0:\r\n                start = (<button className={\"btn btn-2 btn-2i\"}\r\n                                 onClick={() => this.sendStart(this.props.roomID)}>准备 </button>)\r\n                break;\r\n            case 1:\r\n                start = (<Button>已准备</Button>)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        const countstart = this.state.countstart;\r\n        let Countcomponent;\r\n        if (countstart) {\r\n            Countcomponent = <Clock  />\r\n        } else {\r\n            Countcomponent = <h3>准备开始</h3>;\r\n        }\r\n        console.log(\"isOver:\" + this.state.isOver);\r\n        if (this.state.isOver === true) {\r\n            this.setState({\r\n                status: 0\r\n            })\r\n        }\r\n        return (\r\n            <Layout className=\"layout\" style={{height: '100%'}}>\r\n                <Row justify=\"center\" align=\"middle\">\r\n                    <Col span={12} style={{marginTop: '15px'}}>\r\n                        <button className={\"btn btn-3 btn-3b icon-star-2\"}\r\n                                style={{textAlign: 'right', margin: '0'}}>{roomtitle}</button>\r\n\r\n                    </Col>\r\n                    <h3 style={{textAlign: 'right', margin: '20px'}}>{Countcomponent}</h3>\r\n                    <Col span={10} style={{textAlign: 'right'}}>\r\n                        <button className={\"btn btn-4 btn-4c icon-arrow-right\"} onClick={() => {\r\n                            this.exitGame(this.props.history)\r\n                        }}>退出房间\r\n                        </button>\r\n                    </Col>\r\n                </Row>\r\n                <Divider style={{margin: '15px 0 0 0'}}/>\r\n                <Content>\r\n                    <Row align=\"top\" style={{'height': '100%'}}>\r\n                        <Col span={6} style={{textAlign: 'center'}}>\r\n                            <PlayerList playerList={otherplays}/>\r\n                        </Col>\r\n                        <Divider type=\"vertical\" style={{'height': '100%'}}/>\r\n                        <Col span={17}>\r\n                            <Board current={this.state.current} score={this.state.score}/>\r\n                            {start}\r\n                        </Col>\r\n                    </Row>\r\n                </Content>\r\n            </Layout>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction sortScore(a, b) {\r\n    return a.score - b.score\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Play)","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\play\\rule.js",["77"],"/*\r\n * @Author: yb\r\n * @Date: 2020-11-15 22:37:30\r\n * @LastEditTime: 2020-11-16 13:39:04\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n */\r\n\r\n\r\nfunction nospace(squares) {\r\n    for (var i = 0; i < 4; i++)\r\n        for (var j = 0; j < 4; j++)\r\n            if (squares[i][j] === 0)\r\n                return false;\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * @description: 判断数组可否左移\r\n * @event:\r\n * @param {*} squares\r\n * @return {boolean}\r\n */\r\nfunction canMoveLeft(squares) {\r\n    for (var i = 0; i < 4; i++) {\r\n        for (var j = 0; j < 4; j++) {\r\n            if (squares[i][j] !== 0 && j !== 0) {\r\n                if (squares[i][j - 1] === 0 || squares[i][j - 1] === squares[i][j]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n * @description: 判断数组可否右移\r\n * @event:\r\n * @param {*} squares\r\n * @return {boolean}\r\n */\r\nfunction canMoveRight(squares) {\r\n    for (var i = 0; i < 4; i++) {\r\n        for (var j = 0; j < 4; j++) {\r\n            if (squares[i][j] !== 0 && j !== 3) {\r\n                if (squares[i][j + 1] === 0 || squares[i][j + 1] === squares[i][j]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * @description: 判断数组可否上移\r\n * @event:\r\n * @param {*} squares\r\n * @return {boolean}\r\n */\r\nfunction canMoveUp(squares) {\r\n    for (var i = 0; i < 4; i++) {\r\n        for (var j = 0; j < 4; j++) {\r\n            if (squares[i][j] !== 0 && i !== 0) {\r\n                if (squares[i - 1][j] === 0 || squares[i - 1][j] === squares[i][j]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\n/**\r\n * @description: 判断数组可否下移\r\n * @event:\r\n * @param {*} squares\r\n * @return {boolean}\r\n */\r\nfunction canMoveDown(squares) {\r\n    for (var i = 0; i < 4; i++) {\r\n        for (var j = 0; j < 4; j++) {\r\n            if (squares[i][j] !== 0 && i !== 3) {\r\n                if (squares[i + 1][j] === 0 || squares[i + 1][j] === squares[i][j]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * @description: 判断水平方向是否有障碍物\r\n * @event:\r\n * @param {Number} row\r\n * @param {Number} col1\r\n * @param {Number} col2\r\n * @param {Array} squares\r\n * @return {Boolean}\r\n */\r\nfunction noBlockHorizontal(row, col1, col2, squares) {\r\n    for (var i = col1 + 1; i < col2; i++)\r\n        if (squares[row][i] !== 0)\r\n            return false;\r\n    return true;\r\n}\r\n\r\n/**\r\n * @description: 判断竖直方向是否有障碍物\r\n * @event:\r\n * @param {Number} row\r\n * @param {Number} col1\r\n * @param {Number} col2\r\n * @param {Array} squares\r\n * @return {Boolean}\r\n */\r\nfunction noBlockVertical(col, row1, row2, squares) {\r\n    for (var i = row1 + 1; i < row2; i++)\r\n        if (squares[i][col] !== 0)\r\n            return false;\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * @description: 随机函数生成数字\r\n * @event:\r\n * @param {*} squares\r\n * @return {*} squares\r\n */\r\nfunction generateOneNumber(squares) {\r\n    if (nospace(squares))\r\n        return false;\r\n\r\n    //随机一个位置\r\n    var randx = parseInt(Math.floor(Math.random() * 4));\r\n    var randy = parseInt(Math.floor(Math.random() * 4));\r\n    while (true) {\r\n        if (squares[randx][randy] === 0)\r\n            break;\r\n        randx = parseInt(Math.floor(Math.random() * 4));\r\n        randy = parseInt(Math.floor(Math.random() * 4));\r\n    }\r\n    //随机一个数字\r\n    var randNumber = Math.random() < 0.5 ? 2 : 4;\r\n    //在随机位置显示随机数字\r\n    squares[randx][randy] = randNumber;\r\n    return squares;\r\n}\r\n\r\n\r\n/**\r\n * @description: 向左移\r\n * @event:\r\n * @param {Array} squares\r\n * @param {Array} merges\r\n * @param {Number} score\r\n * @return {Object}\r\n */\r\nfunction moveLeft(squares, merges, score) {\r\n    if (!canMoveLeft(squares)) {\r\n        return {squares: squares, merges: merges, score: score, isMove: 0};\r\n    }\r\n    for (var i = 0; i < 4; i++) {\r\n        for (var j = 1; j < 4; j++) {\r\n            if (squares[i][j] !== 0) {\r\n                for (var k = 0; k < j; k++) {\r\n                    //如果该位置为0且中间无障碍物\r\n\r\n                    if (squares[i][k] === 0 && noBlockHorizontal(i, k, j, squares)) {\r\n                        squares[i][k] = squares[i][j];\r\n                        squares[i][j] = 0;\r\n                        continue;\r\n                    } else if (squares[i][k] === squares[i][j] && noBlockHorizontal(i, k, j, squares)) {\r\n                        if (merges[i][k] !== 0) {\r\n                            var temp = squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            squares[i][k + 1] = temp;\r\n                        } else {\r\n                            squares[i][k] += squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            merges[i][k] = 1;\r\n                            score += squares[i][k];\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let result = generateOneNumber(squares);\r\n    if (result) {\r\n        squares = result;\r\n    }\r\n    return {squares: squares, merges: merges, score: score, isMove: 1};\r\n}\r\n\r\n/**\r\n * @description: 向右移\r\n * @event:\r\n * @param {Array} squares\r\n * @param {Array} merges\r\n * @param {Number} score\r\n * @return {Object}\r\n */\r\nfunction moveRight(squares, merges, score) {\r\n    if (!canMoveRight(squares)) {\r\n        return {squares: squares, merges: merges, score: score, isMove: 0};\r\n    }\r\n    for (var i = 0; i < 4; i++) {\r\n        for (var j = 2; j >= 0; j--) {\r\n            if (squares[i][j] !== 0) {\r\n                for (var k = 3; k > j; k--) {\r\n                    //如果该位置为0且中间无障碍物\r\n\r\n                    if (squares[i][k] === 0 && noBlockHorizontal(i, j, k, squares)) {\r\n                        squares[i][k] = squares[i][j];\r\n                        squares[i][j] = 0;\r\n                        continue;\r\n                    } else if (squares[i][k] === squares[i][j] && noBlockHorizontal(i, j, k, squares)) {\r\n                        if (merges[i][k] !== 0) {\r\n                            var temp = squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            squares[i][k - 1] = temp;\r\n                        } else {\r\n                            squares[i][k] += squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            merges[i][k] = 1;\r\n                            score += squares[i][k];\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let result = generateOneNumber(squares);\r\n    if (result) {\r\n        squares = result;\r\n    }\r\n    return {squares: squares, merges: merges, score: score, isMove: 1};\r\n}\r\n\r\n/**\r\n * @description: 向上移\r\n * @event:\r\n * @param {Array} squares\r\n * @param {Array} merges\r\n * @param {Number} score\r\n * @return {Object}\r\n */\r\nfunction moveUp(squares, merges, score) {\r\n    if (!canMoveUp(squares)) {\r\n        return {squares: squares, merges: merges, score: score, isMove: 0};\r\n    }\r\n    for (var i = 1; i < 4; i++) {\r\n        for (var j = 0; j < 4; j++) {\r\n            if (squares[i][j] !== 0) {\r\n                for (var k = 0; k < i; k++) {\r\n                    //如果该位置为0且中间无障碍物\r\n\r\n                    if (squares[k][j] === 0 && noBlockVertical(j, k, i, squares)) {\r\n                        squares[k][j] = squares[i][j];\r\n                        squares[i][j] = 0;\r\n                        continue;\r\n                    } else if (squares[k][j] === squares[i][j] && noBlockVertical(j, k, i, squares)) {\r\n                        if (merges[k][j] !== 0) {\r\n                            var temp = squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            squares[k + 1][j] = temp;\r\n                        } else {\r\n                            squares[k][j] += squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            merges[k][j] = 1;\r\n                            score += squares[k][j];\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let result = generateOneNumber(squares);\r\n    if (result) {\r\n        squares = result;\r\n    }\r\n    return {squares: squares, merges: merges, score: score, isMove: 1};\r\n}\r\n\r\n/**\r\n * @description: 向下移\r\n * @event:\r\n * @param {Array} squares\r\n * @param {Array} merges\r\n * @param {Number} score\r\n * @return {Object}\r\n */\r\nfunction moveDown(squares, merges, score) {\r\n    if (!canMoveDown(squares)) {\r\n        return {squares: squares, merges: merges, score: score, isMove: 0};\r\n    }\r\n    for (var i = 2; i >= 0; i--) {\r\n        for (var j = 0; j < 4; j++) {\r\n            if (squares[i][j] !== 0) {\r\n                for (var k = 3; k > i; k--) {\r\n                    //如果该位置为0且中间无障碍物\r\n\r\n                    if (squares[k][j] === 0 && noBlockVertical(j, i, k, squares)) {\r\n                        squares[k][j] = squares[i][j];\r\n                        squares[i][j] = 0;\r\n                        continue;\r\n                    } else if (squares[k][j] === squares[i][j] && noBlockVertical(j, i, k, squares)) {\r\n                        if (merges[k][j] !== 0) {\r\n                            var temp = squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            squares[k - 1][j] = temp;\r\n                        } else {\r\n                            squares[k][j] += squares[i][j];\r\n                            squares[i][j] = 0;\r\n                            merges[k][j] = 1;\r\n                            score += squares[k][j];\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let result = generateOneNumber(squares);\r\n    if (result) {\r\n        squares = result;\r\n    }\r\n    return {squares: squares, merges: merges, score: score, isMove: 1};\r\n}\r\n\r\nexport default {generateOneNumber, moveLeft, moveRight, moveUp, moveDown, nospace}","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Clock\\Clock.js",["78","79","80","81","82","83","84","85","86"],"import React from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport {withStyles} from '@material-ui/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Clock3 from \"./Clock3\";\r\n\r\nlet waitMinutes = 0;\r\nlet waitSeconds = 3;\r\n\r\n\r\nclass Clock extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            seconds: 0,\r\n            minutes: 0,\r\n            time: '',\r\n            isOver: true,\r\n            open: false\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount = () => {\r\n        this.countDown();\r\n    };\r\n\r\n\r\n    countDown = () => {\r\n        if (waitMinutes === 0 && waitSeconds === 0) {\r\n            this.setState({\r\n                isOver: true\r\n            })\r\n        } else if (waitSeconds === 0) {\r\n            waitSeconds = 59;\r\n            waitMinutes--;\r\n            this.setState({\r\n                seconds: waitSeconds,\r\n                minutes: waitMinutes,\r\n                isOver: false\r\n            })\r\n        } else {\r\n            waitSeconds--;\r\n            this.setState({\r\n                seconds: waitSeconds,\r\n                isOver: false\r\n            })\r\n        }\r\n        setTimeout(() => {\r\n            this.countDown();\r\n        }, 1000);\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        let {isOver} = this.state.isOver;\r\n        let over = \"\";\r\n        let value = \"\";\r\n        if (this.state.isOver === true) {\r\n            // over = \"Time's up!\\nGame Over\";\r\n            value = <Clock3 />;\r\n        } else {\r\n            // over = \"\";\r\n            value = \"\";\r\n        }\r\n\r\n        return (<div>\r\n                <p>{`${this.state.minutes\r\n                    .toString()\r\n                    .padStart(2, \"0\")}:${this.state.seconds.toString().padStart(2, \"0\")}`}\r\n                </p>\r\n                {/*<h4>{over}</h4>*/}\r\n                <div>\r\n                    {value}\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default (Clock);","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\reducer\\index.js",["87","88","89","90","91"],"/*\r\n* \r\n * @Author: your name\r\n * @Date: 2020-11-24 21:21:12\r\n * @LastEditTime: 2020-11-27 10:31:56\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 全局状态管理，存储房间号，房间内用户信息，以及各用户当前棋盘\r\n * @FilePath: \\src\\reducer\\index.js\r\n */\r\n\r\nconst initState = {\r\n    username: null,\r\n    rooms: [],\r\n    current: [],\r\n    roomID: [],\r\n    roomInfo: null,\r\n    status: 'ONLINE',\r\n    Game_Status: 0,\r\n}\r\nexports.reducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'add_action':\r\n            return {\r\n                count: state.count + 1\r\n            }\r\n        case 'REDUX_WEBSOCKET::CONNECT':\r\n            console.log(\"CONNECT\", action);\r\n            return state;\r\n        case 'REDUX_WEBSOCKET::SEND':\r\n            console.log(\"SEND\", action);\r\n            return state;\r\n\r\n        case 'REDUX_WEBSOCKET::OPEN':\r\n            return state;\r\n        case 'REDUX_WEBSOCKET::MESSAGE':\r\n            const data = eval('(' + action.payload.message + ')');\r\n            switch (data.type) {\r\n                case 'Rooms':\r\n                    return Object.assign({}, state, {rooms: eval('(' + data.content + ')')});\r\n                case 'USERINFO':\r\n                    var user = eval('(' + data.content + ')');\r\n                    return Object.assign({}, state, {\r\n                        roomID: user.roomID,\r\n                        status: user.status,\r\n                        username: user.username,\r\n                        score: user.score\r\n                    });\r\n                case 'START':\r\n                    return Object.assign({}, state, {Game_Status: 2});\r\n                case 'RoomInfo':\r\n                    var room = eval('(' + data.content + ')');\r\n                    console.log(\"RoomInfo\", room);\r\n                    return Object.assign({}, state, {roomInfo: room});\r\n            }\r\n            return state;\r\n        case 'REDUX_WEBSOCKET::CLOSED':\r\n            console.log(\"关闭 websocket 连接...\");\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Room\\index.js",["92"],"/*\r\n * @Author: your name\r\n * @Date: 2020-11-25 17:25:27\r\n * @LastEditTime: 2020-12-02 16:34:46\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 房间组件，一个房间四个人\r\n * @FilePath: \\src\\pages\\Room\\index.js\r\n */\r\n\r\nimport React from 'react'\r\n//导入store\r\nimport {Card, List, Avatar, Button} from 'antd';\r\nimport {send} from '@giantmachines/redux-websocket';\r\nimport 'antd/dist/antd.css';\r\nimport store from '../../store'\r\n\r\n\r\nexport default class Room extends React.Component {\r\n\r\n    //加入房间\r\n    joinRoom(val) {\r\n        store.dispatch(send({type: \"IN_ROOM\", content: JSON.stringify({\"roomID\": val})}));\r\n    }\r\n\r\n\r\n    render() {\r\n        const room = this.props.room;\r\n        const lists = room.playerList;\r\n        const roomtitle = \"房间号:\" + room.roomId;\r\n        const leve = room.maxPlayerNumber - lists.length;\r\n        const inRomm = (!leve == 0) ? (\r\n            <div style={{textAlign: 'center'}}><Button onClick={() => this.joinRoom(room.roomId)}>加入房间</Button>\r\n            </div>) : (<div style={{textAlign: 'center'}}><Button>围观</Button></div>)\r\n\r\n        return (<Card title={roomtitle} style={{width: 300}}>\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={lists}\r\n                footer={inRomm}\r\n                renderItem={item => (\r\n                    <List.Item>\r\n                        <List.Item.Meta\r\n                            avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"/>}\r\n                            title={<a href=\"https://ant.design\">{item.username}</a>}\r\n\r\n                            description={\"当前分数\"+item.score}\r\n                        />\r\n                    </List.Item>\r\n                )}\r\n            />,\r\n        </Card>)\r\n    }\r\n}\r\n\r\n\r\n","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\PlayerList\\index.js",["93","94"],"/*\r\n * @Author: your name\r\n * @Date: 2020-12-02 10:17:48\r\n * @LastEditTime: 2020-12-02 16:47:41\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\src\\pages\\PlayerList\\index.js\r\n */\r\nimport React from 'react'\r\nimport {Row, Col, List} from 'antd';\r\nimport SmellBoard from '../SmellBoard';\r\nimport {RedoOutlined} from '@ant-design/icons';\r\n\r\nexport default class PlayerList extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            rank: true,\r\n        }\r\n    }\r\n\r\n    changeRank() {\r\n        this.setState(Object.assign({}, this.state, {rank: !this.state.rank}))\r\n    }\r\n\r\n    render() {\r\n        let title = '排行榜';\r\n        let otherplays = [];\r\n        let content = null;\r\n        if (this.props.playerList) {\r\n            otherplays = this.props.playerList; //排行榜\r\n        }\r\n        if (this.state.rank) {\r\n            title = '房间内其余玩家情况';\r\n            content = (otherplays.map((v, i) => {\r\n                return <Col span={12}>\r\n                    <SmellBoard style=\"text-align: center;\" current={v.current} score={v.score} username={v.username}></SmellBoard>\r\n                </Col>\r\n            }));\r\n        } else {\r\n            content = (<>\r\n                <List\r\n                    bordered\r\n                    dataSource={otherplays}\r\n                    renderItem={item => (\r\n                        <List.Item>\r\n                            {item.username}目前得分{item.score}\r\n                        </List.Item>\r\n                    )}\r\n                />\r\n            </>)\r\n        }\r\n        return (\r\n            <>\r\n                <Row style={{marginTop: '10px'}}>\r\n                    <Col span={22}>\r\n                        <h3>{title}</h3>\r\n                        {content}\r\n                    </Col>\r\n                    <Col span={2}>\r\n                        <RedoOutlined onClick={() => this.changeRank()}/>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {\r\n                    }\r\n                </Row>\r\n            </>)\r\n    }\r\n}\r\nconst compare = function (prop) {\r\n    return function (obj1, obj2) {\r\n        var val1 = obj1[prop];\r\n        var val2 = obj2[prop];\r\n        if (val1 < val2) {\r\n            return -1;\r\n        } else if (val1 > val2) {\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n}\r\n","D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Board\\index.js",[],"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\SmellBoard\\index.js",[],["95","96"],"D:\\Homan\\Documents\\Workspaces\\ByteDance2048\\react_2048\\src\\pages\\Count\\index.js",[],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":18,"column":17,"nodeType":"103","messageId":"104","endLine":18,"endColumn":24},{"ruleId":"101","severity":1,"message":"105","line":13,"column":8,"nodeType":"103","messageId":"104","endLine":13,"endColumn":12},{"ruleId":"101","severity":1,"message":"106","line":13,"column":8,"nodeType":"103","messageId":"104","endLine":13,"endColumn":17},{"ruleId":"101","severity":1,"message":"107","line":14,"column":9,"nodeType":"103","messageId":"104","endLine":14,"endColumn":21},{"ruleId":"108","severity":1,"message":"109","line":83,"column":25,"nodeType":"103","messageId":"110","endLine":83,"endColumn":29},{"ruleId":"108","severity":1,"message":"109","line":89,"column":25,"nodeType":"103","messageId":"110","endLine":89,"endColumn":29},{"ruleId":"108","severity":1,"message":"109","line":96,"column":25,"nodeType":"103","messageId":"110","endLine":96,"endColumn":29},{"ruleId":"111","severity":1,"message":"112","line":341,"column":1,"nodeType":"113","endLine":341,"endColumn":83},{"ruleId":"101","severity":1,"message":"114","line":2,"column":9,"nodeType":"103","messageId":"104","endLine":2,"endColumn":19},{"ruleId":"101","severity":1,"message":"115","line":3,"column":8,"nodeType":"103","messageId":"104","endLine":3,"endColumn":13},{"ruleId":"101","severity":1,"message":"116","line":4,"column":8,"nodeType":"103","messageId":"104","endLine":4,"endColumn":16},{"ruleId":"101","severity":1,"message":"117","line":5,"column":8,"nodeType":"103","messageId":"104","endLine":5,"endColumn":12},{"ruleId":"101","severity":1,"message":"118","line":6,"column":9,"nodeType":"103","messageId":"104","endLine":6,"endColumn":19},{"ruleId":"101","severity":1,"message":"119","line":7,"column":8,"nodeType":"103","messageId":"104","endLine":7,"endColumn":17},{"ruleId":"101","severity":1,"message":"120","line":59,"column":16,"nodeType":"103","messageId":"104","endLine":59,"endColumn":23},{"ruleId":"101","severity":1,"message":"121","line":60,"column":14,"nodeType":"103","messageId":"104","endLine":60,"endColumn":20},{"ruleId":"101","severity":1,"message":"122","line":61,"column":13,"nodeType":"103","messageId":"104","endLine":61,"endColumn":17},{"ruleId":"123","severity":1,"message":"124","line":36,"column":26,"nodeType":"125","messageId":"126","endLine":36,"endColumn":30},{"ruleId":"127","severity":1,"message":"128","line":37,"column":13,"nodeType":"129","messageId":"130","endLine":54,"endColumn":14},{"ruleId":"123","severity":1,"message":"124","line":39,"column":61,"nodeType":"125","messageId":"126","endLine":39,"endColumn":65},{"ruleId":"123","severity":1,"message":"124","line":41,"column":32,"nodeType":"125","messageId":"126","endLine":41,"endColumn":36},{"ruleId":"123","severity":1,"message":"124","line":51,"column":32,"nodeType":"125","messageId":"126","endLine":51,"endColumn":36},{"ruleId":"131","severity":1,"message":"132","line":31,"column":31,"nodeType":"133","messageId":"126","endLine":31,"endColumn":33},{"ruleId":"134","severity":1,"message":"135","line":37,"column":33,"nodeType":"136","endLine":37,"endColumn":60},{"ruleId":"101","severity":1,"message":"137","line":71,"column":7,"nodeType":"103","messageId":"104","endLine":71,"endColumn":14},{"ruleId":"97","replacedBy":"138"},{"ruleId":"99","replacedBy":"139"},"no-native-reassign",["140"],"no-negated-in-lhs",["141"],"no-unused-vars","'Content' is assigned a value but never used.","Identifier","unusedVar","'Home' is defined but never used.","'CountDown' is defined but never used.","'IdcardFilled' is defined but never used.","no-redeclare","'temp' is already defined.","redeclared","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'makeStyles' is defined but never used.","'Modal' is defined but never used.","'Backdrop' is defined but never used.","'Fade' is defined but never used.","'withStyles' is defined but never used.","'PropTypes' is defined but never used.","'classes' is assigned a value but never used.","'isOver' is assigned a value but never used.","'over' is assigned a value but never used.","no-eval","eval can be harmful.","CallExpression","unexpected","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","react/style-prop-object","Style prop value must be an object","JSXAttribute","'compare' is assigned a value but never used.",["140"],["141"],"no-global-assign","no-unsafe-negation"]